<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Legend of Asterya — Criação de Personagem</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=MedievalSharp&family=Cinzel:wght@400;700;900&family=UnifrakturMaguntia&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="css/home.css">
</head>

<body>
    <!-- Efeitos de fundo -->
    <div class="background-effect"></div>
    <div class="particles" id="particles"></div>

    <!-- Header -->
    <header class="nav-header">
        <button class="btn btn-secondary" id="backBtn">
            <i class="fas fa-arrow-left"></i> Voltar
        </button>
    </header>

    <!-- Tela principal -->
    <main class="screen" id="creationScreen">
        <h1 class="page-title">Forja do Destino</h1>

        <div class="creation-container">
            <!-- Painel de criação -->
            <div class="panel creation-form">
                <label class="form-label" for="heroName">Nome do Herói</label>
                <input type="text" id="heroName" class="name-input" placeholder="Digite o nome do seu herói"
                    maxlength="20">

                <label class="form-label">Escolha sua Classe</label>
                <div class="classes-grid" id="classesContainer"></div>
            </div>

            <!-- Painel de preview -->
            <div class="panel preview-panel">
                <h2 class="preview-title" id="previewTitle">Selecione uma Classe</h2>

                <div class="stats-container" id="statsContainer">
                    <!-- As estatísticas serão inseridas aqui via JavaScript -->
                </div>

                <div class="class-lore" id="loreContainer">
                    Sua escolha definirá sua jornada em Asterya. Cada classe possui habilidades únicas, fraquezas e uma
                    história que moldará seu destino.
                </div>

                <button class="btn btn-primary confirm-button" id="confirmBtn" disabled>
                    <i class="fas fa-fist-raised"></i> Confirmar Herói
                </button>
            </div>
        </div>
    </main>

    <script>
        // Dados das classes
        const gameClasses = [
            {
                id: 'warrior',
                name: 'Guerreiro das Cinzas',
                image: './img/heros/warrior.png',
                description: 'Mestre das armas corpo a corpo',
                lore: 'Um veterano de inúmeras batalhas, forjado no calor do combate. O Guerreiro das Cinzas é resiliente, poderoso e implacável. Sua armadura pesada e espada larga são tão temidas quanto sua determinação inabalável. Você sobreviveu à Grande Purificação e agora busca redenção nas terras amaldiçoadas de Asterya.',
                stats: {
                    força: 16,
                    destreza: 10,
                    constituição: 14,
                    inteligência: 8,
                    sabedoria: 9,
                    carisma: 11
                }
            },
            {
                id: 'mage',
                name: 'Arcano das Sombras',
                image: './img/heros/mage.png',
                description: 'Conjurador de magias arcanas',
                lore: 'Estudioso dos segredos proibidos, o Arcano das Sombras domina energias que desafiam a compreensão mortal. Seu conhecimento das artes obscuras permite manipular a realidade, mas cada feitiço custa um pedaço de sua humanidade. Nas bibliotecas proibidas de Lorian, você descobriu verdades que arruinariam mentes mais fracas.',
                stats: {
                    força: 8,
                    destreza: 9,
                    constituição: 10,
                    inteligência: 17,
                    sabedoria: 14,
                    carisma: 12
                }
            },
            {
                id: 'rogue',
                name: 'Ladino do Crepúsculo',
                image: './img/heros/rogue.png',
                description: 'Mestre da furtividade e precisão',
                lore: 'Nas vielas sombrias de Drangleic, você aprendeu que a lâmina mais afiada é a que não se vê. O Ladino do Crepúsculo é um artista da discrição, capaz de infiltrar-se nas fortalezas mais seguras e eliminar alvos antes que percebam o perigo. Sua agilidade é tão mortal quanto suas lâminas ocultas.',
                stats: {
                    força: 10,
                    destreza: 17,
                    constituição: 11,
                    inteligência: 12,
                    sabedoria: 13,
                    carisma: 14
                }
            },
            {
                id: 'cleric',
                name: 'Devoto do Sol',
                image: './img/heros/cleric.png',
                description: 'Canalizador do poder divino',
                lore: 'A fé é seu escudo, e a luz do Sol sua espada. Como Devoto do Sol, você serve aos deuses antigos de Asterya, canalizando seu poder para curar aliados e incinerar os impuros. Sua jornada é uma peregrinação sagrada para reacender a Chama Primordial que mantém a escuridão à distância.',
                stats: {
                    força: 12,
                    destreza: 9,
                    constituição: 13,
                    inteligência: 10,
                    sabedoria: 16,
                    carisma: 15
                }
            },
            {
                id: 'berserker',
                name: 'Bárbaro da Perdição',
                image: './img/heros/barbarian.png',
                description: 'Fúria incontrolável em batalha',
                lore: 'As tribos do Norte criam guerreiros que abraçam a fúria da batalha. O Bárbaro da Perdição não conhece medo ou piedade, apenas o êxtase do combate. Sua força titânica pode esmagar armaduras e derrubar portões. Mas cada explosão de fúria consome um pedaço de sua sanidade, aproximando-o da besta que habita dentro.',
                stats: {
                    força: 18,
                    destreza: 12,
                    constituição: 16,
                    inteligência: 7,
                    sabedoria: 8,
                    carisma: 10
                }
            },
            {
                id: 'ranger',
                name: 'Caçador da Floresta',
                image: './img/heros/ranger.png',
                description: 'Mestre do arco e da natureza',
                lore: 'As florestas ancestrais de Asterya são seu lar e fortaleza. Como Caçador da Floresta, você se move como uma sombra entre as árvores, suas flechas sempre encontram o alvo, e os segredos da natureza são seus aliados. Você testemunhou a corrupção que consome a floresta e jurou expurgá-la, flecha por flecha.',
                stats: {
                    força: 11,
                    destreza: 16,
                    constituição: 12,
                    inteligência: 10,
                    sabedoria: 14,
                    carisma: 13
                }
            }
        ];

        // Estado da aplicação
        const appState = {
            selectedClass: null,
            heroName: '',
            isConfirming: false
        };

        // Inicialização
        document.addEventListener('DOMContentLoaded', () => {
            initParticles();
            loadClasses();
            setupEventListeners();
            updateConfirmButton();
        });

        // Inicializar partículas de fundo
        function initParticles() {
            const container = document.getElementById('particles');
            for (let i = 0; i < 50; i++) {
                const particle = document.createElement('div');
                particle.style.position = 'absolute';
                particle.style.width = Math.random() * 3 + 1 + 'px';
                particle.style.height = particle.style.width;
                particle.style.background = `rgba(212, 175, 55, ${Math.random() * 0.2})`;
                particle.style.borderRadius = '50%';
                particle.style.left = Math.random() * 100 + '%';
                particle.style.top = Math.random() * 100 + '%';

                particle.animate([
                    { transform: 'translateY(0px)', opacity: 0.3 },
                    { transform: `translateY(${Math.random() * 50 - 25}px)`, opacity: 0 }
                ], {
                    duration: Math.random() * 3000 + 2000,
                    iterations: Infinity,
                    direction: 'alternate'
                });

                container.appendChild(particle);
            }
        }

        // Carregar classes na interface
        function loadClasses() {
            const container = document.getElementById('classesContainer');
            container.innerHTML = '';

            gameClasses.forEach(cls => {
                const classElement = document.createElement('div');
                classElement.className = 'class-option';
                classElement.dataset.classId = cls.id;

                classElement.innerHTML = `
                    <img src="${cls.image}" alt="${cls.name}" class="class-image">
                    <div class="class-name">${cls.name}</div>
                    <div class="class-description">${cls.description}</div>
                `;

                classElement.addEventListener('click', () => selectClass(cls.id));
                classElement.addEventListener('mouseenter', () => previewClass(cls.id));

                container.appendChild(classElement);
            });
        }

        // Selecionar uma classe
        function selectClass(classId) {
            // Remover seleção anterior
            document.querySelectorAll('.class-option').forEach(el => {
                el.classList.remove('selected');
            });

            // Marcar como selecionada
            const selectedElement = document.querySelector(`[data-class-id="${classId}"]`);
            if (selectedElement) {
                selectedElement.classList.add('selected');
            }

            // Atualizar estado
            appState.selectedClass = gameClasses.find(c => c.id === classId);

            // Atualizar preview
            updateClassPreview();

            // Atualizar botão de confirmação
            updateConfirmButton();
        }

        // Preview ao passar o mouse
        function previewClass(classId) {
            if (appState.selectedClass || appState.isConfirming) return;

            const cls = gameClasses.find(c => c.id === classId);
            if (!cls) return;

            updatePreviewContent(cls);
        }

        // Atualizar conteúdo do preview
        function updatePreviewContent(cls) {
            // Título
            document.getElementById('previewTitle').textContent = cls.name;

            // Estatísticas
            const statsContainer = document.getElementById('statsContainer');
            statsContainer.innerHTML = '';

            Object.entries(cls.stats).forEach(([stat, value]) => {
                const statElement = document.createElement('div');
                statElement.className = 'stat-item';
                statElement.innerHTML = `
                    <span class="stat-label">${stat}</span>
                    <span class="stat-value">${value}</span>
                `;
                statsContainer.appendChild(statElement);
            });

            // Lore
            document.getElementById('loreContainer').textContent = cls.lore;
        }

        // Atualizar preview da classe selecionada
        function updateClassPreview() {
            if (!appState.selectedClass) return;

            updatePreviewContent(appState.selectedClass);
        }

        // Atualizar botão de confirmação
        function updateConfirmButton() {
            const confirmBtn = document.getElementById('confirmBtn');
            const heroNameInput = document.getElementById('heroName');

            // Atualizar nome no estado
            appState.heroName = heroNameInput.value.trim();

            // Verificar se pode confirmar
            const canConfirm = appState.selectedClass && appState.heroName.length >= 2;

            confirmBtn.disabled = !canConfirm;

            if (canConfirm) {
                confirmBtn.innerHTML = `<i class="fas fa-fist-raised"></i> Confirmar ${appState.heroName}`;
            } else {
                confirmBtn.innerHTML = `<i class="fas fa-fist-raised"></i> Confirmar Herói`;
            }
        }

        // Configurar event listeners
        function setupEventListeners() {
            // Input do nome
            const heroNameInput = document.getElementById('heroName');
            heroNameInput.addEventListener('input', () => {
                updateConfirmButton();

                // Efeito visual
                if (heroNameInput.value.trim().length > 0) {
                    heroNameInput.style.borderColor = '#d4af37';
                } else {
                    heroNameInput.style.borderColor = '#8b4513';
                }
            });

            // Botão de confirmação
            document.getElementById('confirmBtn').addEventListener('click', confirmHero);

            // Botão de voltar
            document.getElementById('backBtn').addEventListener('click', () => {
                window.history.back();
            });
        }

        // Confirmar criação do herói
        function confirmHero() {
            if (!appState.selectedClass || appState.heroName.length < 2) return;

            appState.isConfirming = true;

            // Desativar inputs
            document.getElementById('heroName').disabled = true;
            document.querySelectorAll('.class-option').forEach(el => {
                el.style.pointerEvents = 'none';
                el.style.opacity = '0.6';
            });

            // Mostrar modal de confirmação
            showConfirmationModal();
        }

        // Mostrar modal de confirmação
        function showConfirmationModal() {
            const modal = document.createElement('div');
            modal.className = 'modal-overlay';

            modal.innerHTML = `
                <div class="modal-content">
                    <h2 class="modal-title">Destino Forjado</h2>
                    <div class="modal-message">
                        O herói <strong>${appState.heroName}</strong>,<br>
                        o <strong>${appState.selectedClass.name}</strong>,<br>
                        está pronto para sua jornada em Asterya!
                        <br><br>
                        <em>"Que sua lâmina nunca embace e sua coragem nunca falte."</em>
                    </div>
                    <button class="modal-button" id="startJourneyBtn">
                        Iniciar Jornada
                    </button>
                </div>
            `;

            document.body.appendChild(modal);

            // Configurar botão do modal
            setTimeout(() => {
                const startBtn = document.getElementById('startJourneyBtn');
                startBtn.addEventListener('click', () => {
                    // Aqui você redirecionaria para a próxima página
                    // window.location.href = 'game.html';
                    alert(`Redirecionando para a jornada de ${appState.heroName}...`);

                    // Por enquanto, apenas remove o modal
                    document.body.removeChild(modal);
                    appState.isConfirming = false;

                    // Reativar inputs (apenas para demonstração)
                    document.getElementById('heroName').disabled = false;
                    document.querySelectorAll('.class-option').forEach(el => {
                        el.style.pointerEvents = 'auto';
                        el.style.opacity = '1';
                    });
                });
            }, 100);
        }
    </script>
</body>

</html>