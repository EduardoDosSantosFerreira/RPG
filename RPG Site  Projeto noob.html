<!DOCTYPE html>
<!--
  Cleaned single-file version of the prototype.
  Replaced multiple concatenated HTML documents with one consolidated, accessible, responsive prototype.
  If you need the original raw content it is recommended to keep a backup copy outside this file.
-->
<html lang="pt-BR">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Legend of Asterya ‚Äî Prot√≥tipo</title>
  <style>
    :root{--primary-gold:#D4AF37;--primary-dark:#1a1a2e;--secondary-dark:#16213e;--text-light:#f0f0f0;--text-gold:#FFD700;--shadow:0 10px 30px rgba(0,0,0,0.6);--glass-bg:rgba(255,255,255,0.04);--glass-border:rgba(255,255,255,0.08)}
    *{box-sizing:border-box;margin:0;padding:0}
    html,body{height:100%}
    body{font-family:'Cinzel','Times New Roman',serif;background:linear-gradient(135deg,var(--primary-dark) 0%,#0f0f23 50%,var(--secondary-dark) 100%);color:var(--text-light);min-height:100vh;overflow-x:hidden;display:flex;flex-direction:column;align-items:center}
    body::before{content:'';position:fixed;inset:0;z-index:-1;background-image:radial-gradient(circle at 20% 80%, rgba(212,175,55,0.08) 0, transparent 50%),radial-gradient(circle at 80% 20%, rgba(139,0,0,0.06) 0, transparent 50%);filter:blur(12px)}
    .screen{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;padding:1rem;visibility:hidden;opacity:0;transition:opacity .35s ease,visibility .35s}
    .screen.active{visibility:visible;opacity:1}
    .game-title{text-align:center;margin-bottom:2.5rem}
    .game-title h1{font-size:clamp(2.4rem,6vw,4.5rem);background:linear-gradient(45deg,var(--primary-gold),var(--text-gold));-webkit-background-clip:text;color:transparent;text-shadow:var(--shadow)}
    .game-title p{color:rgba(240,240,240,.85);margin-top:.5rem}
    .menu-buttons{display:flex;flex-direction:column;gap:1rem;max-width:320px;width:90%}
    .btn{padding:.9rem 1.6rem;border-radius:12px;border:none;cursor:pointer;font-weight:600;letter-spacing:.03em;display:inline-flex;align-items:center;gap:.6rem}
    .btn-primary{background:linear-gradient(45deg,var(--primary-gold),var(--text-gold));color:var(--primary-dark);box-shadow:var(--shadow)}
    .btn-secondary{background:transparent;color:var(--text-light);border:2px solid var(--primary-gold)}
    .btn:disabled{opacity:.5;cursor:not-allowed}
    .character-creation{max-width:1100px;width:100%;display:grid;grid-template-columns:1fr 420px;gap:2rem;align-items:start}
    .creation-panel{background:var(--glass-bg);border:1px solid var(--glass-border);border-radius:18px;padding:1.6rem}
    .name-input{width:100%;padding:1rem;border-radius:12px;border:1px solid transparent;background:rgba(0,0,0,0.25);color:var(--text-gold)}
    .label{display:block;margin-bottom:.6rem;color:var(--text-gold);font-weight:600}
    .classes-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(120px,1fr));gap:1rem;max-height:420px;overflow:auto;padding-right:6px}
    .class-option{aspect-ratio:1/1;border-radius:14px;background:linear-gradient(145deg, rgba(255,255,255,0.03), rgba(0,0,0,0.25));display:flex;flex-direction:column;align-items:center;justify-content:center;padding:1rem;cursor:pointer;border:2px solid transparent;transition:transform .25s ease,box-shadow .25s ease}
    .class-option:hover{transform:translateY(-6px);box-shadow:0 18px 36px rgba(0,0,0,0.45);border-color:rgba(212,175,55,0.6)}
    .class-option.selected{transform:scale(1.08);box-shadow:0 30px 60px rgba(212,175,55,0.45);border-color:var(--text-gold)}
    .class-icon{font-size:2.6rem;margin-bottom:.6rem}
    .class-label{background:rgba(0,0,0,0.6);padding:.45rem .6rem;border-radius:10px;color:var(--text-gold);font-weight:700}
    .preview-panel{display:flex;flex-direction:column;gap:1rem}
    .detail-stats{display:grid;grid-template-columns:repeat(3,1fr);gap:.8rem}
    .stat-item{background:rgba(0,0,0,0.25);padding:.8rem;border-radius:10px;text-align:center}
    .stat-value{font-size:1.2rem;color:var(--text-gold);font-weight:700}
    .stat-label{font-size:.75rem;color:rgba(240,240,240,.8);text-transform:uppercase}
    .class-lore{color:rgba(240,240,240,.95);line-height:1.5;padding-top:.4rem}
    .action-buttons{display:flex;gap:.8rem;justify-content:center;margin-top:1rem}
    .nav-header{position:fixed;left:20px;top:16px;display:flex;gap:.8rem;z-index:60}
    .lang-indicator{background:rgba(0,0,0,0.6);padding:.5rem .8rem;border-radius:999px;color:var(--primary-gold);border:1px solid rgba(212,175,55,0.18)}
    @media (max-width:900px){.character-creation{grid-template-columns:1fr}.preview-panel{order:2}.creation-panel{order:1}}@media (max-width:480px){.game-title h1{font-size:2rem}.class-icon{font-size:2rem}.classes-grid{grid-template-columns:repeat(3,1fr)}}
  </style>
</head>
<body>
  <header class="nav-header">
    <div class="lang-indicator" id="langIndicator" aria-live="polite">üáßüá∑ PT-BR</div>
    <button class="btn btn-secondary" id="backBtn" aria-hidden="true" style="display:none">‚Üê Back</button>
    <button class="btn btn-secondary" id="fixBtn" title="Aplicar corre√ß√µes autom√°ticas">üõ†Ô∏è Fix Issues</button>
  </header>

  <main>
    <section id="screen1" class="screen active" aria-hidden="false">
      <div class="game-title">
        <h1 id="gameTitle">Legend of Asterya</h1>
        <p id="subtitle">Aventura √âpica RPG</p>
      </div>
      <div class="menu-buttons" role="menu">
        <button class="btn btn-primary" id="playBtn">üéÆ <span class="btn-text">Play</span></button>
        <button class="btn btn-secondary" id="langBtn">üåê <span class="btn-text">Language</span></button>
        <button class="btn btn-secondary" id="creditsBtn">üìú <span class="btn-text">Credits</span></button>
      </div>
    </section>

    <section id="screen2" class="screen" aria-hidden="true">
      <div class="character-creation">
        <h2 class="character-title" id="charTitle">Cria√ß√£o de Personagem</h2>
        <div class="creation-panel">
          <label for="charName" class="label">Nome do Her√≥i</label>
          <input id="charName" class="name-input" type="text" maxlength="20" placeholder="Digite o nome do seu her√≥i">
          <label class="label">Escolha sua Classe</label>
          <div class="classes-grid" id="classesGrid" role="list"></div>
        </div>
        <aside class="creation-panel preview-panel" id="previewPanel" aria-live="polite">
          <h3 id="detailTitle">Passe o mouse ou toque em uma classe</h3>
          <div class="detail-stats" id="statsContainer"></div>
          <div class="class-lore" id="loreContainer">Detalhes da classe...</div>
          <div class="action-buttons">
            <button class="btn btn-secondary" id="randomBtn">üé≤ Aleat√≥rio</button>
            <button class="btn btn-primary" id="confirmBtn" disabled>‚öîÔ∏è Confirmar Her√≥i</button>
          </div>
        </aside>
      </div>
    </section>
  </main>

  <script>
    // Inlined app.js (cleaned)
    const DND_CLASSES = {artificer:{icon:'üîß',name:'Artificer',stats:{for:12,des:14,con:14,int:16,sab:10,car:12},lore:'Mestre das inven√ß√µes m√°gicas.'},barbarian:{icon:'ü™ì',name:'Barbarian',stats:{for:16,des:13,con:16,int:8,sab:12,car:10},lore:'F√∫ria primal.'},druid:{icon:'üåø',name:'Druid',stats:{for:10,des:12,con:14,int:10,sab:16,car:14},lore:'Guardi√£o da natureza.'},fighter:{icon:'‚öîÔ∏è',name:'Fighter',stats:{for:15,des:12,con:14,int:10,sab:11,car:13},lore:'Mestre de todas as armas.'},monk:{icon:'ü•∑',name:'Monk',stats:{for:10,des:16,con:14,int:10,sab:14,car:12},lore:'Disciplina absoluta.'},paladin:{icon:'üõ°Ô∏è',name:'Paladin',stats:{for:15,des:10,con:14,int:10,sab:12,car:16},lore:'Cavaleiro sagrado.'},ranger:{icon:'üèπ',name:'Ranger',stats:{for:12,des:16,con:14,int:10,sab:15,car:11},lore:'Ca√ßador das florestas.'},rogue:{icon:'üó°Ô∏è',name:'Rogue',stats:{for:10,des:16,con:12,int:12,sab:12,car:15},lore:'Mestre da furtividade.'},warlock:{icon:'üìú',name:'Warlock',stats:{for:8,des:14,con:12,int:10,sab:11,car:16},lore:'Pactos sombrios.'},wizard:{icon:'üîÆ',name:'Wizard',stats:{for:8,des:12,con:12,int:16,sab:14,car:11},lore:'Erudito arcano.'}};

    const TRANSLATIONS = {'pt-BR':{play:'Jogar',language:'Idioma',credits:'Cr√©ditos',langIndicator:'üáßüá∑ Portugu√™s',back:'Voltar',confirm:'Confirmar Her√≥i'},'en-US':{play:'Play',language:'Language',credits:'Credits',langIndicator:'üá∫üá∏ English',back:'Back',confirm:'Confirm'}};

    const isTouchDevice = () => ('ontouchstart' in window) || navigator.maxTouchPoints > 0;

    function normalizeButtonText(){document.querySelectorAll('.btn').forEach(btn=>{if(!btn.querySelector('.btn-text')){const texts=Array.from(btn.childNodes).filter(n=>n.nodeType===Node.TEXT_NODE&&n.textContent.trim());if(texts.length){const span=document.createElement('span');span.className='btn-text';span.textContent=texts.map(t=>t.textContent.trim()).join(' ');texts.forEach(t=>t.remove());btn.appendChild(span)}}})}

    class LanguageManager{constructor(){this.current=localStorage.getItem('language')||'pt-BR';this.updateUI()}set(lang){if(!TRANSLATIONS[lang])return;this.current=lang;localStorage.setItem('language',lang);this.updateUI()}updateUI(){const t=TRANSLATIONS[this.current];document.getElementById('langIndicator').textContent=t.langIndicator}}

    class ScreenManager{
      constructor(){this.current='screen1';this.selectedClass=null;this.charName='';this.currentHover=null;this.lang=new LanguageManager();this.init()}
      init(){normalizeButtonText();this.populateClasses();this.bindUI();this.updateConfirmState()}
      populateClasses(){const grid=document.getElementById('classesGrid');grid.innerHTML='';Object.entries(DND_CLASSES).forEach(([key,data])=>{const el=document.createElement('div');el.className='class-option';el.setAttribute('data-class',key);el.setAttribute('role','listitem');el.setAttribute('tabindex','0');el.innerHTML=`<div class="class-icon">${data.icon}</div><div class="class-label">${data.name}</div>`;grid.appendChild(el)})}
      showScreen(id){const prev=document.getElementById(this.current);if(prev)prev.classList.remove('active');prev&&(prev.setAttribute('aria-hidden','true'));setTimeout(()=>{document.querySelectorAll('.screen').forEach(s=>{s.classList.remove('active');s.setAttribute('aria-hidden','true')});const next=document.getElementById(id);if(next){next.classList.add('active');next.setAttribute('aria-hidden','false');this.current=id}document.getElementById('backBtn').style.display=id==='screen1'?'none':'inline-block'},300)}
      updatePreview(classKey,isHover=false){const data=DND_CLASSES[classKey];if(!data)return;document.getElementById('detailTitle').textContent=`${data.icon} ${data.name}`;const statsHtml=Object.entries(data.stats).map(([k,v])=>`<div class="stat-item"><div class="stat-value">${v}</div><div class="stat-label">${k.toUpperCase()}</div></div>`).join('');document.getElementById('statsContainer').innerHTML=statsHtml;document.getElementById('loreContainer').textContent=data.lore;if(isHover)this.currentHover=classKey;else this.selectedClass=classKey}
      clearPreview(){document.getElementById('detailTitle').textContent='Passe o mouse ou toque em uma classe';document.getElementById('statsContainer').innerHTML='';document.getElementById('loreContainer').textContent='Detalhes da classe...';this.currentHover=null}
      bindUI(){document.getElementById('playBtn').addEventListener('click',()=>this.showScreen('screen2'));document.getElementById('backBtn').addEventListener('click',()=>this.showScreen('screen1'));document.getElementById('creditsBtn')?.addEventListener('click',()=>alert('Legend of Asterya\nDesenvolvido localmente.'));document.getElementById('langBtn')?.addEventListener('click',()=>{const langs=Object.keys(TRANSLATIONS);const idx=langs.indexOf(this.lang.current);const next=langs[(idx+1)%langs.length];this.lang.set(next)});const grid=document.getElementById('classesGrid');grid.addEventListener('click',(e)=>{const opt=e.target.closest('.class-option');if(!opt)return;this.selectClass(opt.dataset.class,opt)});grid.addEventListener('keydown',(e)=>{const el=e.target.closest('.class-option');if(!el)return;if(e.key==='Enter'||e.key===' '){e.preventDefault();this.selectClass(el.dataset.class,el)}});grid.addEventListener('mouseover',(e)=>{const opt=e.target.closest('.class-option');if(!opt)return;this.updatePreview(opt.dataset.class,true)});grid.addEventListener('mouseout',(e)=>{const related=e.relatedTarget;if(related&&related.closest&&related.closest('.class-option'))return;if(!this.selectedClass)this.clearPreview()});const nameInput=document.getElementById('charName');nameInput&&nameInput.addEventListener('input',(e)=>{this.charName=e.target.value;this.updateConfirmState()});document.getElementById('randomBtn')?.addEventListener('click',()=>{const keys=Object.keys(DND_CLASSES);const rnd=keys[Math.floor(Math.random()*keys.length)];this.selectClass(rnd)});document.getElementById('confirmBtn')?.addEventListener('click',()=>{if(!this.charName||!this.selectedClass)return;const d=DND_CLASSES[this.selectedClass];alert(`üéâ Her√≥i Criado!\nNome: ${this.charName}\nClasse: ${d.name}`)});document.getElementById('fixBtn')?.addEventListener('click',()=>this.fixIssues());if(isTouchDevice()){grid.addEventListener('touchstart',(e)=>{const opt=e.target.closest('.class-option');if(!opt)return;this.updatePreview(opt.dataset.class,true)},{passive:true})}}
      selectClass(key,el){document.querySelectorAll('.class-option').forEach(o=>o.classList.remove('selected'));const target=el||document.querySelector(`[data-class="${key}"]`);target&&target.classList.add('selected');this.updatePreview(key,false);this.updateConfirmState()}
      updateConfirmState(){const ready=(this.charName&&this.charName.trim())&&this.selectedClass;const btn=document.getElementById('confirmBtn');if(btn)btn.disabled=!ready}
      fixIssues(){normalizeButtonText();document.querySelectorAll('.class-option').forEach(o=>{if(!o.hasAttribute('tabindex'))o.setAttribute('tabindex','0')});document.querySelectorAll('[onclick]').forEach(el=>{try{const code=el.getAttribute('onclick');const fn=new Function('event',code);el.removeAttribute('onclick');el.addEventListener('click',ev=>fn.call(el,ev))}catch(err){console.warn('fixIssues: could not migrate inline onclick',err,el)}});document.querySelectorAll('.screen').forEach(s=>{if(!s.classList.contains('active'))s.setAttribute('aria-hidden','true');else s.setAttribute('aria-hidden','false')});alert('Corre√ß√µes aplicadas ‚Äî verifique a interface.')}
    }

    window.addEventListener('load',()=>{window.app=new ScreenManager();console.log('app carregado ‚Äî ScreenManager ativo')});
    </script>
  </body>
  </html>
